# ДЗ1 команды XRUST_BEZE 
<h3>Сообщения</h3>
<ol>
    <li>Просмотр диалога
        <ul>
            <li>при нажатии на диалог из списка диалогов происходит переход на страницу этого диалога</li>
            <li>при нажатии на кнопку «К диалогам» происходит переход на страницу со списком диалогов</li>
            <li><b>BUG: при вводе несуществующего ID пользователя в URL чата возникает "Неожиданная ошибка"</b></li>
            <li>при нажатии на кнопку “Escape” происходит переход на страницу со списком диалогов</li>
            <li>при нажатии на стрелку перехода назад в истории браузера происходит переходит на страницу со списком диалогов</li>
            <li>при нажатии на стрелку перехода вперед в истории браузера происходит переходит на страницу этого диалога</li>
            <li>при нажатии на аватарку собеседника происходит переход на страницу профиля собеседника</li>
            <li>при нажатии на стрелку перехода назад в истории браузера происходит переходит на страницу текущего диалога</li>
            <li>при отмотке в начало диалога сообщения загружаются и проставляется их дата</li>
            <li>при отмотке в конец диалога сообщения не удаляются и даты сохраняются</li>
            <li><b>BUG: при отмотке к началу диалога остаётся надпись «Начните диалог»</b></li>
            <li><b>BUG: при уменьшении масштаба страницы спиннер остаётся и не прогружаются новые сообщения (см. рисунок 1)</b>
            <div style="text-align: center">
                <img src="static/first_png.png" />
                <p align="center"><b>Рисунок 1</b> — Баг с не исчезновением спиннера</p>
            </div>
            </li>
            <li><b>BUG: если число месяца сообщения совпадает с сегодняшним числом в месяце, то будет надпись «Сегодня». Аналогично с «Вчера»</b></li>
            <li>при нажатии на файл в сообщении он скачивается</li>
        </ul>
    </li>
    <li>Написание сообщения
        <ul>
            <li>при отправлении первого сообщения в диалоге пропадает надпись «Начните диалог»</li>
            <li>при отправлении сообщения в качестве первого сообщения за день появляется надпись «Сегодня» в дате</li>
            <li>при отправлении сообщения оно появляется у обоих собеседников</li>
            <li>при отправлении сообщения оно появляется первым в списке диалогов на странице диалогов (https://socio-project.ru/messenger)</li>
            <li>отправление пустого сообщения не происходит</li>
            <li><b>BUG: происходит отправление сообщения, состоящего только из символов переноса строки и пробелов (см. рисунок 2)</b>
            <div style="text-align: center">
                <img src="static/second_png.png"/>
                <p align="center"><b>Рисунок 2</b> — Баг с многострочным пустым сообщением</p>
            </div>
            </li>
            <li>при отправлении длинных сообщений текст переносится на следующую строку</li>
            <li>при вводе кода на JavaScript текст не исполняется как код</li>
            <li>при отправлении очень длинных сообщений (>1000 символов) сообщение разделяется на несколько</li>
            <li>при нажатии на смайлик появляется панель со смайликами</li>
            <li>при нажатии на значок смайлик панель со смайликами плавно убирается</li>
            <li><b>BUG: если смайлик лежит на границе разделения сообщений, то он разделяется пополам и превращается в неизвестный текст (см. рисунок 3)</b>
            <div style="text-align: center">
                <img src="static/third_png.png" />
                <p align="center"><b>Рисунок 3</b> — Разделение смайлика на сообщения</p>
            </div>
            </li>
            <li>при нажатии на значок стикера на панели смайликов появляется панель со стикерами</li>
            <li>при нажатии на значок смайлика на панели стикеров появляется панель со смайликами</li>
            <li>при нажатии на текст «МОИ» на панели всех стикеров появляется панель только с созданными мной стикерами</li>
            <li>при отсутствии созданных мной стикеров на панели стикеров появляется надпись «Стикеров нет. Вы можете создать их тут»</li>
            <li>при нажатии на слово «тут» происходит переход на страницу с созданием стикеров (https://socio-project.ru/stickers/all)</li>
            <li><b>BUG: при нажатии на стрелку перехода назад в истории браузера не происходит перехода на страницу текущего диалога</b></li>
            <li>при нажатии на текст «ВСЕ» на панели моих стикеров появляется панель со всеми стикерами</li>
            <li>при нажатии на стикер на панели стикеров данный стикер отсылается как сообщение и пропадает панель стикеров</li>
            <li>при нажатии на значок скрепки открывается проводник</li>
            <li>при выборе картинки она добавляется как вложение под инпутом сообщения</li>
            <li>при выборе нескольких картинок они все добавляются как вложение под инпутом сообщения</li>
            <li>при добавлении вложений больше 5 — появляется предупреждение</li>
            <li>при нажатии крестик на добавленные вложения они удаляются </li>
            <li>при добавлении картинки и файла, не являющегося картинкой, они появляются как вложения под инпутом сообщения</li>
            <li>при добавлении файлов, суммарный размер которых превышает 20мб, вылезает ошибка</li>
            <li>при отправлении картинки она отображается в сообщении не как файл с именем, а как картинка</li>
            <li>при отправлении сообщения с файлами и текстом, длина которого больше 1000 символов, оно делится на несколько маленьких и все файлы прикрепляются к последнему сообщению</li>
            <li><b>BUG: при отсутствия взаимодействия пользователя с сайтом больше минуты появляется надпись "Неожиданная ошибка" и без перезагрузки страницы нельзя писать сообщения</b></li>
        </ul>
    </li>
    <li>Удаление сообщения
        <ul>
            <li>при нажатии на значок мусорного бака у сообщения появляется модальное окно с подтверждением удаления сообщения</li>
            <li>при появлении модального окна нажатие на любой другом месте страницы кроме окна не считывается</li>
            <li>при нажатии на кнопку «Отмена» модальное окно исчезает</li>
            <li>при нажатии на кнопку «Удалить» сообщение удаляется у обоих собеседников</li>
            <li>при удалении всех сообщений за определенную дату эта дата исчезает</li>
            <li><b>BUG: при удалении всех сообщений в диалоге не появляется надпись «Начните диалог» (см. рисунок 4)</b>
            <div style="text-align: center">
                <img src="static/fourth_png.png" />
                <p align="center"><b>Рисунок 4</b> — Пустой диалог</p>
            </div>
            </li>
            <li>при удалении сообщения с файлами файлы корректно удаляются</li>
            <li>при удалении всех сообщений диалога он пропадает из списка диалогов на странице диалогов (https://socio-project.ru/messenger)</li>
        </ul>
    </li>
    <li>Изменение сообщения
        <ul>
            <li>при нажатии на значок карандаша около сообщения его содержимое появляется в инпуте (файлы под инпутом)</li>
            <li>при нажатии на галочку оригинальное сообщение меняется</li>
            <li><b>BUG: не изменяя сообщение и принимая изменение, внизу оригинального сообщения появляется текст «ред.»</b></li>
            <li>при изменении сообщения в его низу появляется текст «ред.»</li>
            <li>при изменении сообщения оно изменяется у обоих собеседников</li>
            <li><b>BUG: при повторном нажатии дублируется значок скрепки слева от инпута (см. рисунок 5)</b>
            <div style="text-align: center">
                <img src="static/fifth_png.png" />
                <p align="center"><b>Рисунок 5</b> — Дублирование значка скрепки</p>
            </div>
            </li>
            <li>при изменении текста в пустое сообщение при его изменении текст в оригинальном сообщении обновляется</li>
            <li>при нажатии на крестик файл удаляется из вложений</li>
            <li>при изменении файлов сообщения файлы обновляются в оригинальном сообщении</li>
            <li>при попытке вложить файлы, суммарный размер которых больше 20 мб или количество которых больше 5, появляется предупреждение</li>
            <li>при добавлении смайликов в сообщение оригинальное сообщение дополняется смайликами</li>
            <li>при удалении всего содержимого изменяемого сообщения оригинальное сообщение удаляется</li>
        </ul>
    </li>
</ol>

<h3>Сообщества</h3>
<ol>
    <li>Создание сообщества
        <ul>
            <li>при вводе пустого имени группы возникает ошибка</li>
            <li><b>BUG: при вводе имени группы с цифрами возникает ошибка (см. рисунок 6)</b>
            <div style="text-align: center">
                <img src="static/sixth_png.png" />
                <p align="center"><b>Рисунок 6</b> — Ошибка при вводе цифр в инпут имени группы</p>
            </div>
            </li>
            <li>при вводе имени группы с пробелами ошибки нет</li>
            <li>при вводе имени группы со специальными символами: !@#$%^&*()+_=~`"№;%:?<>/\|{}[] – возникает ошибка</li>
            <li>при вводе имени группы, состоящего только из пробелов, возникает ошибка</li>
            <li>при вводе пустого описания группы возникает ошибка</li>
            <li>при вводе описания группы, состоящего только из переносов строки или пробелов, возникает ошибка</li>
            <li>при нажатии на кнопку «Загрузить» открывается проводник</li>
            <li>при выборе картинки картинка появляется справа в круге от кнопки «Загрузить»</li>
            <li>при попытке загрузить не картинку возникает ошибка и картинка не загружается</li>
            <li>при пустых полях имени группы или описания группы при нажатии на кнопку «Создать» возникает соответствующая ошибка</li>
            <li>при нажатии на кнопку «Создать» при отсутствии ошибок происходит переход нас траницу созданной группы</li>
            <li>при отсутствии выбора фотографии группы и нажатии на кнопку «Создать» осуществляется переход на страницу созданной группы и установление аватарки группы по умолчанию</li>
        </ul>
    </li>
    <li>Удаление сообщества
        <ul>
            <li>при нажатии на кнопку «Удалить группу» появляется модальное окно с выбором</li>
            <li>при нажатии на кнопку «Отменить» модальное окно исчезает</li>
            <li>при нажатии на кнопку «Удалить» группа удаляется и происходит переход на страницу со списком моих групп</li>
        </ul>
    </li>
    <li>Изменение сообщества
        <ul>
            <li>при нажатии на значок шестерёнки в правом верхнем углу фона группы происходит переход на страницу с настройками группы</li>
            <li>при нажатии на кнопку «Вернуться к группе» происходит переход на страницу группы</li>
            <li>при нажатии на стрелку перехода назад в истории браузера происходит переходит на страницу группы</li>
            <li>при изменении некоторых полей группы и нажатии на кнопку «Вернуться к группе» настройки группы не меняются и происходит переход на страницу группы</li>
            <li>при вводе пустого имени группы возникает ошибка</li>
            <li>при вводе имени группы с цифрами возникает ошибка </li>
            <li>при вводе имени группы с пробелами ошибки нет</li>
            <li>при вводе имени группы со специальными символами: !@#$%^&*()+_=~`"№;%:?<>/\|{}[] - возникает ошибка</li>
            <li>при вводе имени группы, состоящего только из пробелов, возникает ошибка</li>
            <li>при вводе пустого описания группы возникает ошибка</li>
            <li>при вводе описания группы, состоящего только из переносов строки или пробелов, возникает ошибка</li>
            <li>при нажатии на кнопку «Загрузить» открывается проводник</li>
            <li>при выборе картинки картинка появляется справа в круге от кнопки «Загрузить»</li>
            <li>при попытке загрузить не картинку возникает ошибка и картинка не загружается</li>
            <li>при нажатии на кнопку «Отменить изменения» все поля группы принимают свои первоначальные значения</li>
            <li>при нажатии на кнопку «Сохранить» при отсутствии ошибок происходит обновление настроек группы и переход на страницу группы</li>
            <li>при пустых полях имени группы или описания группы при нажатии на кнопку «Сохранить» возникает соответствующая ошибка</li>
        </ul>
    </li>
</ol>

<h3>Модерация сообщества</h3>
<ol>
    <li>Просмотр модераторов сообщества
        <ul>
            <li>при нажатии кнопки «Модераторы группы» на странице группы, администратором которой вы являетесь, происходит переход на страницу со списком модераторов данной группы</li>
        </ul>
    </li>
    <li>Создание модераторов
        <ul>
            <li>при вводе ID пользователя и нажатии на кнопку «Добавить» добавляется строка с новым модератором</li>
            <li>при пустом инпуте и нажатии на кнопку «Добавить» возникает ошибка</li>
            <li>при нечисловом значении ID пользователя в инпуте и нажатии на кнопку «Добавить» возникает ошибка</li>
            <li>при несуществующем ID пользователя в инпуте и нажатии на кнопку «Добавить» возникает ошибка</li>
            <li><b>BUG: при вводе ID уже существующего модератора возникает ошибка (см. рисунок 7)</b>
            <div style="text-align: center">
                <img src="static/seventh_png.png" />
                <p align="center"><b>Рисунок 7</b> — Ошибка при добавлении существующего модератора</p>
            </div>
            </li>
        </ul>
    </li>
    <li>Удаление модератора
        <ul>
            <li>при нажатии на кнопку «Снять права» конкретного модератора он перестаёт быть администратором группы и пропадает из списка</li>
        </ul>
    </li>
</ol>

<h3>Страница "Сообщества"</h3>
<ol>
    <li>
        Общее
        <ul>
            <li>
                При нажатии кнопки "Создать свою группу" открывается форма создания своего сообщества, path в урле меняется на /groups/create
            </li>
        </ul>
    </li>
    <li>
        Строка поиска
        <ul>
            <li>
                При поиске существующих групп по названию отображается плашки этих групп
            </li>
            <li>
                Если существует несколько групп с названием, начинающимся одинаково, то при поиске они все отображаются списком
            </li>
            <li>
                Если ищем несуществующую группу, то отображается "Нет результатов"
            </li>
            <li>
                Если очистить строку поиска, то отображается список групп, на которые я подписан
            </li>
            <li>
                <b>BUG: в случае из предыдущего пункта - вместе со списком моих групп отображается "Нет результатов"</b>
            </li>
        </ul>
    </li>
    <li>
        Список сообществ
        <ul>
            <li>
                В списке отображаются все сообщества, на которые я подписан, и только они
            </li>
            <li>
                При клике в область плашки сообщества происходит переход на его стену
            </li>
            <li>
                Отображаются даты создания групп (Сегодня, Вчера, число+месяц+год)
            </li>
            <li>
                Отображается количество подписчиков (в соответствии с реальностью, не на 1 больше/меньше)
            </li>
            <li>
                <b>BUG: если группы не помещаются на один экран, то нижний бордер списка прилеплен к низу окна (нет margin-bottom)</b>
                <img src="./static/padding_bottom_group_list.png" />
            </li>
            <li>
                При отписке от группы она исчезает из списка
            </li>
            <li>
                При подписке на группу она появляется в списке
            </li>
            <li>
                При отсутствии подписок на группы отображается надпись "Вы не подписаны ни на какую группу"
            </li>
            <li>
                Если название не помещается в плашку, часть названия заменяется многоточием
            </li>
        </ul>
    </li>
    <li>
        Страница сообщества
        <ul>
            <li>
                Отображается название группы
            </li>
            <li>
                Отображается дата создания группы (Сегодня/Вчера/дата)
            </li>
            <li>
                Отображается описание группы (не более 100 символов, гарантированно помещается)
            </li>
            <li>
                Отображается количество подписчиков (в соответствии с реальностью, не на 1 больше/меньше)
            </li>
            <li>
                Если название группы не помещается в виджет, то конец обрезается и заменяется многоточием
            </li>
            <li>
                При отписке/подписке соответственно изменяется количество ее подписчиков на +1/-1
            </li>
            <li>
                Не отображается иконка Настройки (шестеренка), если я не модератор
            </li>
            <li>
                Нельзя редактировать/удалять посты, если я не модератор
            </li>
            <li>
                В url path отображается айдишник группы, на странице которой я нахожусь
            </li>
            <li>
                <b>BUG: Если заменить в урле айдишник группы на несуществующий, отрендерятся только навбар и хедер и выдаст надпись Неожиданная ошибка</b>
            </li>
            <li>
                Если заменить айдишник группы на другой существующий в урле и нажать Enter, приложение отрендерит страницу запрашиваемой группы 
            </li>
        </ul>
    </li>
    </ol>
    <h3>Профиль пользователя</h3>
    <ol>
    <li>
        Общее
        <ul>
            <li>
                Отображается имя и фамилия пользователя
            </li>
            <li>
                Если имя и фамилия не вмещаются в виджет, они обрезаются, в конец помещается многоточие
            </li>
            <li>
                У каждого профиля отображается обложка (фиксированная фотка для всех профилей)
                <img src="./static/profile_cover.png" />
            </li>
            <li>
                При нажатии на кнопку с иконкой "Сообщение" открывается диалог с пользователем, на странице которого мы находимся
            </li>
            <li>
                При нажатии кнопки "Отписаться" показывается попап с подтверждением отписки ("Вы уверены, что хотите удалить друга?")
            </li>
            <li>
                При нажатии кнопки "Отмена" в попапе из предыдущего пункта он пропадает, в остальном ничего не происходит
            </li>
            <li>
                При нажатии кнопки "Удалить" в попапе из предыдущего пункта он пропадает, у кнопки Отписаться меняется текст на Подписаться.
            </li>
            <li>
                При действиях из предыдущего пункта меняется цвет с темного на розовый у кнопки Отписаться и у кнопки с иконкой "Сообщение"
            </li>
            <li>
                При нажатии кнопки Подписаться текст кнопки меняется на Отписаться
            </li>
            <li>
                При действиях из предыдущего пункта меняется цвет с розового на темный у кнопки Подписаться и у кнопки с иконкой "Сообщение"
            </li>
            <li>
                Нельзя редактировать чужие посты на странице профиля
            </li>
            <li>
                При переходе на профиль отображается путь /profile/{id} в урле
            </li>
            <li>
                При смене id на существующий в урле и нажатии enter отрисовывается нужный профиль
            </li>
            <li>
                <b>
                    BUG: Если заменить в урле айдишник профиля на несуществующий, отрендерятся только навбар и хедер и выдаст надпись Неожиданная ошибка 
                </b>
            </li>
        </ul>
    </li>
    <li>
        Свой профиль
        <ul>
            <li>
                Отображается кнопка Настройки с иконкой шестеренки
            </li>
            <li>
                Нет кнопки Подписаться/Отписаться
            </li>
            <li>
                Вместо кнопки с иконкой "Сообщение" отрисовывается кнопка Избранное
            </li>
            <li>
                По нажатию кнопки Избранное происходит переход в диалог с собой
            </li>
            <li>
                Присутствует виджет создания постов
            </li>
            <li>
                Все посты, отображаемые на стене, можно редактировать и удалять
            </li>
        </ul>
    </li>
    </ol>
    <h3>Общие компоненты</h3>
    <ol>
    <li>
        Общие баги
        <ul>
            <li>
                <b>BUG: если число дня рождения и текущее число совпадают (год и месяц - нет), то отображается  "День рождения сегодня" (аналогично с "вчера")</b>
            </li>
            <li>
                <b>BUG: Если с бэка закрылся websocket connection, то он не восстанавливается с фронта, появляется надпись "Неожиданная ошибка"</b>
            </li>
            <li>
                <b>BUG: Периодически (непонятно, с каким периодом и по какой причине) из minio пропадает дефолтная аватарка</b>
            </li>
        </ul>
    </li>
    <li>
        Header
        <ul>
            <li>
                В хедере присутствуют логотип Socio, имя и фамилия пользователя и его аватарка                
            </li>
            <li>
                По клику на логотип происходит редирект на Ленту
            </li>
            <li>
                Если мы уже в Ленте, по клику на лого не происходит ничего
            </li>
            <li>
                По клику на область с именем, фамилией и аватаркой происходит переход в профиль залогиненного пользователя
            </li>
            <li>
                Если мы уже в своем профиле, то при действии из предыдущего пункта не происходит ничего
            </li>
            <li>
                Header is sticky. При скролле Ленты он остается виден вверху страницы.
            </li>
            <li>
                Хедер не ререндерится при переходе между страницами приложения
            </li>
            <li>
                <b>
                    BUG: При имени + фамилии, которые превосходят по длине хедер, они вытесняют аватарку, ее не видно в хедере 
                </b>
                <img src="./static/header_long_username.png" />
            </li>
        </ul>
    </li>
    <li>
        Navbar
        <ul>
            <li>
                Навбар рендерится на всех страницах приложения
                <img src="./static/navbar.png">
            </li>
            <li>
                По клику на Новости происходит переход на Ленту, меняется урл на /feed/news
            </li>
            <li>
                По клику на Мессенджер происходит переход на список диалогов, меняется урл на /messenger
            </li>
            <li>
                По клику на Друзья происходит переход на список друзей, меняется урл на /community/friends
            </li>
            <li>
                По клику на Сообщества происходит переход на список моих сообществ, меняется урл на /groups
            </li>
            <li>
                По клику на Стикеры происходит переход на список всех стикеров, меняется урл на /stickers/all
            </li>
            <li>
                По клику на Настройки происходит переход на настройки профиля, меняется урл на /profile/settings
            </li>
            <li>
                По клику на Профиль происходит переход на профиль залогиненного юзера, меняется урл на /profile
            </li>
            <li>
                Элемент навбара, на котором находится курсор (::hover), подсвечивается чуть более ярким розовым
            </li>
            <li>
                В версии верстки под мобилки навбар переезжает в нижнюю часть страницы и становится sticky, названия страниц заменяются на соответствующие иконки
            </li>
        </ul>
    </li>
    <li>
        Компонент "Строка поиска"
        <ul>
            <li>
                Работает как кнопка "Найти", так и поиск по вводу (live search)
            </li>
            <li>
                <b>BUG: не по всей визуальной области инпута поиска можно кликнуть, чтобы вводить текст</b>
            </li>
            <li>
                При отсутствии введенного текста отображается плейсхолдер "Найти группу"
            </li>
            <li>
                <b>BUG: Можно вводить только пробелы в инпут, они убирают плейсхолдер, но поиска не происходит</b>
            </li>
            <li>
                <b>BUG: При вводе текста, который убирается санитайзером на сервере (фактически запрос - пустая строка), происходит необработанный 400 bad request, отображается "Неожиданная ошибка"</b>
                <img src="./static/xss_groups_search_bar.png" />
            </li>
        </ul>
    </li>
</ol>
